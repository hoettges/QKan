<!DOCTYPE html>
<html class="writer-html5" lang="de" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Datenaustausch &mdash; QKan 3.3.1 Dokumentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="_static/jquery.js"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/sphinx_highlight.js"></script>
        <script src="_static/translations.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Stichwortverzeichnis" href="genindex.html" />
    <link rel="search" title="Suche" href="search.html" />
    <link rel="next" title="Arbeiten mit Flächen" href="Qkan_flaechen.html" />
    <link rel="prev" title="Installation" href="Qkan_aufsetzen.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            QKan
          </a>
              <div class="version">
                3.2
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Dokumentation durchsuchen" aria-label="Dokumentation durchsuchen" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Allgemeines</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="Qkan_allgemein.html">Was ist QKan?</a></li>
<li class="toctree-l1"><a class="reference internal" href="Qkan_aufsetzen.html">Installation</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Funktionen</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Datenaustausch</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#import-von-kanaldaten-aus-einfachen-tabellen">Import von Kanaldaten aus einfachen Tabellen</a></li>
<li class="toctree-l2"><a class="reference internal" href="#projektdatei-ubertragen">Projektdatei übertragen</a></li>
<li class="toctree-l2"><a class="reference internal" href="#import-aus-hystem-extran">Import aus HYSTEM-EXTRAN</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="Qkan_flaechen.html">Arbeiten mit Flächen</a></li>
<li class="toctree-l1"><a class="reference internal" href="Qkan_workflow.html">Beispielprojekt</a></li>
<li class="toctree-l1"><a class="reference internal" href="Qkan_Formulare.html">QKan-Formulare</a></li>
<li class="toctree-l1"><a class="reference internal" href="Qkan_Tabellen.html">QKan-Tabellen</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">QKan</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Datenaustausch</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/Qkan_Datenaustausch.rst.txt" rel="nofollow"> Quelltext anzeigen</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="datenaustausch">
<h1>Datenaustausch<a class="headerlink" href="#datenaustausch" title="Permalink to this heading"></a></h1>
<section id="import-von-kanaldaten-aus-einfachen-tabellen">
<h2>Import von Kanaldaten aus einfachen Tabellen<a class="headerlink" href="#import-von-kanaldaten-aus-einfachen-tabellen" title="Permalink to this heading"></a></h2>
<p>Der Import von Daten aus einfachen Tabellen ist prinzipiell mit allen Methoden möglich, die QGIS zur Verfügung
stellt. Leider funktioniert das Einfügen aus der Zwischenablage nur dann, wenn alle Attribute einer Tabelle
einschließlich der Geometrieattribute vorhanden sind, die Namen exakt mit denen der Tabelle übereinstimmen
und in der gleichen Reihenfolge stehen. Da dies nicht besonders praktikabel ist, wurde in QKan eine
intelligente Clipboard-Einfügefunktion implementiert.</p>
<p>Die Bedienung ist denkbar einfach: Um Daten mit Copy&amp;Paste aus einer Tabelle (Excel, Textdatei,
ACCESS-Datenbank, etc.) einzufügen, muss der entsprechende Layer in der Layerkontrolle aktiviert sein. Er darf
sich dabei nicht im Bearbeitungsmodus befinden. Dabei gelten folgende Anforderungen:</p>
<blockquote>
<div><ul class="simple">
<li><p>bestimmte Pflichtattribute müssen vorhanden sein</p></li>
<li><p>Die Reihenfolge der Daten ist beliebig</p></li>
<li><p>Für die meisten Attributnamen werden zahlreiche Synonyme akzeptiert (z. B. „schnam“, „schachtname“ oder
„Schachtbezeichnung“). Die Synonyme werden anhand vorgegebener „regulärer Ausdrücke“ den Attributnamen der
QKan-Tabellen zugeordnet, die gegebenenfalls erweitert werden können.</p></li>
</ul>
</div></blockquote>
<p>Zum Einfügen der Daten muss nur noch die Schaltfläche „Tabellendaten aus Clipboard einfügen“ angeklickt werden (siehe nachfolgende Abbildung)</p>
<img alt="_images/clipboard_einfuegen.png" src="_images/clipboard_einfuegen.png" />
<p>Abbildung: Schaltfläche zum Einfügen von Tabellendaten aus dem Clipboard</p>
<p>Um vorab zu überprüfen, welche Spaltennamen erkannt werden, kann vorab die Schaltfläche „Tabellen aus Clipboard: Zuordnung anzeigen“ (siehe nachfolgende Abbildung) angeklickt werden.</p>
<img alt="_images/clipboard_testen.png" src="_images/clipboard_testen.png" />
<p>Abbildung: Überprüfen der automatischen Spaltennamenerkennung</p>
<p>Bei Tabellen mit Geometrien (Schächte, Haltungen, Fläche, etc.) werden in den Fällen, wo Punktkoordinaten
oder Paare davon ausreichen (z. B. Schächte: Punktkoordinate, Haltungen und Wehre: 2 Punktkoordinaten für
Anfangs- und Endpunkt) diese aus den eingefügten Koordinatenwerten erzeugt.</p>
<p>Es ist aber auch möglich, Geometrien als WKT-Text einzufügen. Die Schreibweise entspricht der von QGIS,
wenn Datensätze mit Geometrien kopiert und in eine Textdatei eingefügt werden.</p>
<p>Beispiel zum Ausprobieren:</p>
<div class="line-block">
<div class="line">1. Leere QKan-Datenbank anlegen (Schaltfläche „Neue QKan-Datenbank erstellen“)</div>
</div>
<div class="line-block">
<div class="line">2. Schachtdaten (in Layer „Schächte“ einfügen):</div>
<div class="line"><br /></div>
<div class="line">Schacht;x;y;Sohle;Deckel</div>
<div class="line">D110076;388809.4738;5709888.006;80.49;83.61</div>
<div class="line">D110077;388806.8219;5709900.202;80.34;83.71</div>
<div class="line">D110075;388813.9783;5709854.593;81.16;84.09</div>
<div class="line">D110073;388749.989;5709812.893;82.77;85.47</div>
<div class="line">D110074;388709.6162;5709930.665;80.82;83.49</div>
<div class="line">D110801;388806.4423;5709907.041;80.22;83.28</div>
<div class="line">D110036;388798.8302;5709945.165;79.51;82.56</div>
<div class="line">D119801;388784.1633;5709985.519;78.84;81.86</div>
</div>
<div class="line-block">
<div class="line">3. Haltungsdaten (in Layer „Haltungen“ einfügen):</div>
<div class="line"><br /></div>
<div class="line">Haltung;Schacht_oben;Schacht_unten;Höhe;Breite;Länge;Sohleoben;Sohleunten;Profilname</div>
<div class="line">410;D110076;D110077;0.3;0.3;12.55;80.5;80.32;Kreisquerschnitt</div>
<div class="line">409;D110075;D110076;0.3;0.3;34.04;81.16;80.52;Kreisquerschnitt</div>
<div class="line">408;D110073;D110074;0.2;0.2;124.28;82.8;80.85;Kreisquerschnitt</div>
<div class="line">407;D110801;D110036;0.3;0.3;40.14;80.2;79.49;Kreisquerschnitt</div>
<div class="line">443;D110036;D119801;0.3;0.3;42.4;79.49;78.88;Kreisquerschnitt</div>
<div class="line">1364;D110077;D110801;0.3;0.3;5.5;80.3;80.2;Kreisquerschnitt</div>
</div>
<img alt="_images/netz_aus_clipboard.png" src="_images/netz_aus_clipboard.png" />
<p>Abbildung: Eingefügtes Kanalnetz in QKan</p>
</section>
<section id="projektdatei-ubertragen">
<h2>Projektdatei übertragen<a class="headerlink" href="#projektdatei-ubertragen" title="Permalink to this heading"></a></h2>
<p>Die Funktion <a class="reference internal" href="_images/Tool_projektdatei_uebertragen.png"><img alt="Tool_projektdatei_uebertragen" src="_images/Tool_projektdatei_uebertragen.png" style="width: 1.25em;" /></a> <span class="guilabel">Projektdatei übertragen</span> dient dazu, eine Vorlage-Projektdatei zu laden,
um das Projekt nach eigenen Bedürfnissen z.B. Firmenstandards darzustellen. In der Projektdatei können z.B. Beschriftungsstile
oder Linientypdarstellungen definiert sein. In der Maske wird oben zunächst die aktuelle geladene Projektdatenbank angezeigt,
welche sich nicht ändern lässt. Durch anklicken der Box darunter, kann die Q-Kan-Datenbank mit dem Laden der neuen Datei
aktualisiert werden - dies sollte in der Regel jedoch nicht nötig sein, da die Datenbank sich automatisch durch die
Update-Funktion aktualisiert.</p>
<p>Ist noch keine Firmenstandard-Datei vorhanden, gibt es die Möglichkeit über das Auswahlfeld <span class="guilabel">Standarad-Q-Kan-Vorlage verwenden</span>
einen allgemeinen Stil zu laden. Diese Vorlage bietet eine gute Grundlage, um einen eigenen Standard zu entwickeln.
Liegt bereits eine Firmenstandard-Datei vor, kann diese in dem Auswahlfeld darunter geöffnet werden. Die Projektdatei wird auf
das aktuelle QKan-Projekt angepasst und anschließend unter dem Namen gespeichert, welcher unter <span class="guilabel">Erzeugte Projektdatei speichern als…</span>
ausgewählt wird. Dieser Name kann der Name der aktuell geladenen Projektdatei sein, wenn die Vorlage auf diese angewendet
werden soll. Mit <span class="guilabel">OK</span> wird die Projektdatei geschrieben, jedoch aus programmtechnischen Gründen nicht sofort geladen.</p>
<p>Die neue Projektdatei kann geladen werden, indem das aktuelle Projekt über <span class="guilabel">Projekt</span> → <span class="guilabel">Zuletzt verwendet</span>
neu geladen wird. Der Standard sollte nun in dem aktuellen Projekt geladen sein.</p>
</section>
<section id="import-aus-hystem-extran">
<h2>Import aus HYSTEM-EXTRAN<a class="headerlink" href="#import-aus-hystem-extran" title="Permalink to this heading"></a></h2>
<p>Eine Videoerläuterung des Formulars zum Import aus HYSTEM-EXTRAN ist <a href="https://fh-aachen.sciebo.de/s/cZPuvpgKkeBE56Q" target="_blank">hier</a> zu finden.</p>
<p>Daten können leicht von einem HYSTEM-EXTRAN Projekt nach QKan übertragen werden mit dem Tool <a class="reference internal" href="_images/Tool_Import_HE.png"><img alt="Tool_Import_HE" src="_images/Tool_Import_HE.png" style="width: 1.25em;" /></a> <span class="guilabel">Import aus HYSTEM-EXTRAN</span>.</p>
<img alt="_images/Formular_Import_HE.png" src="_images/Formular_Import_HE.png" />
<p>Unter Datenquelle wird die mit HE erstellte Quelldatenbank (Endung <em>.idbf) ausgewählt.
Darunter muss das Projektionssystem ausgewählt werden, in dem die Daten **in der Datenquelle*</em> gespeichert sind.
In dem gleichen Projektionssystem wird das QKan-Projekt aufgebaut, sodass beide Projektionssysteme identisch sind.
Als nächstes wird das Datenziel, die Sqlite-Datenbank und optional die zugehörige Projektdatei, ausgewählt.
Ist noch keine Zieldatenbank oder Projektdatei vorhanden, können diese hier auch erstellt werden.</p>
<p>Im rechten Bereich der Maske befinden sich die Auswahlfelder zur Selektion der zu importierenden Daten.
In dem Bereich „Tabellen importieren“, können die klassischen Datentabellen, die das Kanalnetz ausmachen, selektiert werden.
Darunter schließt sich der Bereich zur Auswahl der Flächen an.
Dabei steht „Flächen (RW)“ für Regenwasserflächen und „SW-Einleiter“ für Schmutzwasser-Einleiter.
Die Selektion, die im Block „Haltungsflächen importieren, markiert als:“ angeboten wird, bezieht sich auf die Auswahl der entsprechenden Datensätze in HE (siehe Bild unten).
Hierbei kann man bei Bedarf bestimmte Flächentypen, durch löschen des Hakens, vom Import ausschließen.</p>
<p><a class="reference internal" href="_images/Einzugsflaeche_HE.png"><img alt="bild_einzugsfl_he" src="_images/Einzugsflaeche_HE.png" style="width: 30em;" /></a></p>
<p>Eingabeformular aus dem Programm <a class="reference external" href="https://itwh.de/de/softwareprodukte/desktop/hystem-extran/">HYSTEM-EXTRAN, ITWH GmbH</a></p>
<p>Im rechten unteren Feld der Maske lässt sich festlegen, welche Referenztabellen importiert werden sollen.
Wenn nur die Daten importiert werden sollen, die auch mit Daten aus den anderen zu importierenden Tabellen (z.B. den Haltungs-Tabellen)
verbunden sind, dann sollte in diesem Bereich kein Feld selektiert werden.
Sollen die gesamten Referenztabellen der aufgeführten Bereiche importiert werden, so können diese hier ausgewählt werden.
Die Entwässerungsarten, welche sich ebenfalls in einer Referenztabelle befinden, sind schon fertig in QKan angelegt, da…</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="Qkan_aufsetzen.html" class="btn btn-neutral float-left" title="Installation" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Zurück</a>
        <a href="Qkan_flaechen.html" class="btn btn-neutral float-right" title="Arbeiten mit Flächen" accesskey="n" rel="next">Weiter <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2017 - 2022, Hoettges.</p>
  </div>

  Erstellt mit <a href="https://www.sphinx-doc.org/">Sphinx</a> mit einem
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    bereitgestellt von <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>